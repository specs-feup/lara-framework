<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="/css/styles.css">
    <script type="module" src="/js/utils.js" defer></script>
    <script type="module" src="/js/ast-import.js" defer></script>
    <script type="module" src="/js/visualization.js" defer></script>
    <title>AST Visualization</title>
</head>
<body>
    <section id="ast-code-visualization">
        <h1>AST Visualization</h1>
        <article id="ast">
            <h2>AST</h2>
            <pre><code></code></pre>
        </article>
        <article id="code">
            <h2>Code</h2>
            <pre><code>#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;stdlib.h&gt;
/*
Simple matrix multiplication example.
*/
/*
matrix multiplication
*/
void matrix_mult(double const *A, double const *B, double *C, int const N, int const M, int const K) {
   for(int ii = 0; ii &lt; N; ii++) {
      for(int jj = 0; jj &lt; K; jj++) {
         //C[i][j] = 0;
         C[K * ii + jj] = 0;
      }
   }
   for(int i = 0; i &lt; N; i++) {
      for(int l = 0; l &lt; M; l++) {
         for(int j = 0; j &lt; K; j++) {
            //C[i][j] += A[i][l]*B[l][j];
            C[K * i + j] += A[M * i + l] * B[K * l + j];
         }
      }
   }
}

/*
* Set an N by M matrix A to random values
*/
void init_matrix(double *A, int const N, int const M) {
   for(int i = 0; i &lt; N; ++i) {
      for(int j = 0; j &lt; M; ++j) {
         //A[i][j] = ((double) rand()) / (double) RAND_MAX; 
         A[M * i + j] = ((double) rand()) / (double) 2147483647;
      }
   }
}

void print_matrix_result(double *A, int const N, int const K) {
   double acc = 0.0;
   if(N == 1) print_matrix_result(A, N - 1, K);
   for(int i = 0; i &lt; N; ++i) {
      for(int j = 0; j &lt; K; ++j) {
         //acc += A[i][j];
         acc += A[K * i + j];
      }
   }
   printf("Result acc: %f\n", acc);
}

void test_matrix_mul() {
   int N = 512;
   int M = 256;
   int K = 512;
   //double A[N][M];
   //double B[M][K];
   //double C[N][K];
   double *A = (double *) malloc(N * M * sizeof(double));
   double *B = (double *) malloc(M * K * sizeof(double));
   double *C = (double *) malloc(N * K * sizeof(double));
   // initialize matrices
   init_matrix(A, N, M);
   init_matrix(B, M, K);
   // do: C = A*B
   matrix_mult(A, B, C, N, M, K);
   print_matrix_result(C, N, K);
}

int main() {
   // To make results repeatable
   srand(0);
   test_matrix_mul();
}</code></pre>
        </article>
        <button id="continue-button" disabled>Continue</button>
    </section>
</body>
</html>